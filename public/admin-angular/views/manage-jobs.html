<div class="job-management-page" data-ng-controller="JobMgmtController" ng-init="jobMgmtObj.list.init()">
	
	<div class="container-fluid">
	    <div class="row">
	        
	        <div class="admin-sidebar" data-ng-include="'/admin-angular/views/sidebar.html'"></div>

	        <main class="col-md-9 ml-sm-auto col-lg-10 px-4" role="main">
				<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
					<h3 class="h3">Job Management</h3>
				</div>

				<ul class="nav nav-pills mb-15" ng-if="!jobMgmtObj.list.loading">
			        <li class="nav-item mr-10">
			            <input type="text" ng-model="jobMgmtObj.list.searchjob" class="form-control" placeholder="Search job..." />
			        </li>
			        <li class="nav-item mr-10">
			            <div class="pt-2">Job Filter</div>
			        </li>
			        <li class="nav-item mr-10" ng-init="jobMgmtObj.list.filter = '2'">
			            <select class="form-control" ng-model="jobMgmtObj.list.filter">
			            	<option value="2">Active</option>
			            	<option value="1">Deactive</option>
			            	<!-- <option>Closed</option> -->
			            </select>
			        </li>
			    </ul>

				<table class="table table-bordered table-striped mb-0" ng-if="jobMgmtObj.list.data.length && !jobMgmtObj.list.loading">
				    <thead>
				        <tr>
				            <th>Job Title</th>
				            <th>Job Status</th>
				            <th>Created At</th>
				            <th>Action</th>
				        </tr>
				    </thead>
				    <tbody>
				        <tr ng-repeat="jobRow in jobMgmtObjFilter = (jobMgmtObj.list.data | orderBy: '-createdAt' | filter: { jobTitle: jobMgmtObj.list.searchjob, status: jobMgmtObj.list.filter })">
				            <td>{{jobRow.jobTitle}}</td>
				            <td>
								<select class="form-control" ng-model="jobRow.status" ng-change="jobMgmtObj.edit.activeJob(jobRow)">
									<option value="1" ng-selected="jobRow.status == 1">DeActivate</option>
									<option value="2" ng-selected="jobRow.status == 2">Active</option>
									<option value="3" ng-selected="jobRow.status == 3">Closed</option>
								</select>
				            </td>
				            <td>
				            	<span>Created At: {{jobRow.createdAt | date}}</span>
				            </td>
				            <td>
				                <div><i ng-click="jobMgmtObj.edit.openModal(jobRow)" class="fa fa-pencil-square-o pointer ml-10" aria-hidden="true"></i>
				                <i ng-click="jobMgmtObj.delete.openModal(jobRow, false)" ng-if="jobRow.isDelete" class="fa fa-trash-o pointer ml-10 text-danger" aria-hidden="true"></i>
				                <i ng-click="jobMgmtObj.delete.openModal(jobRow, true)" ng-if="!jobRow.isDelete" class="fa fa-trash-o pointer ml-10" aria-hidden="true"></i>
				            </td>
				        </tr>
				        <tr ng-if="!jobMgmtObjFilter.length">
				        	<td colspan="4">
					        	<div class="text-center">
					        		<h5>No data!</h5>
					        	</div>
				        	</td>
				        </tr>
				    </tbody>
				</table>

				<div ng-if="!jobMgmtObj.list.data.length && !jobMgmtObj.list.loading" class="no-data-cn text-center">
					<h4>No data</h4>
				</div>

				<div ng-if="jobMgmtObj.list.loading" class="text-center loading-cn">
					<h2>
						<i class="fa fa-spinner fa-pulse fa-fw"></i>
						<span class="sr-only">Loading...</span>
					</h2>
				</div>
	        </main>
	    </div>
	</div>

	<div data-ng-include="'/admin-angular/views/modal.html'"></div>
</div>